!function t(r,e,o){function i(s,u){if(!e[s]){if(!r[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=e[s]={exports:{}};r[s][0].call(c.exports,function(t){var e=r[s][1][t];return i(e?e:t)},c,c.exports,t,r,e,o)}return e[s].exports}for(var n="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,r,e){"use strict";function o(r,e){function o(t,r){var o=e[t];return o&&o.prototype||Object.getPrototypeOf(r)}this.grid=r,this.sorts=[],e=e||{};var i=o("Hypergrid",r);i.constructor.properties.mixIn(t("./mix-ins/defaults")),i.mixIn(t("./mix-ins/grid")),o("Behavior",r.behavior).mixIn(t("./mix-ins/behavior")),o("Column",r.behavior.allColumns.length&&r.behavior.allColumns[0]).mixIn(t("./mix-ins/column")),o("DataModel",r.behavior.dataModel).mixIn(t("./mix-ins/dataModel")),this.grid.addEventListener("fin-column-sort",function(t,e){r.toggleSort(t,e)})}o.prototype.name="hypersorter",o.prototype.properties=function(t){var r,e,o=this.grid.behavior.dataModel.getColumnSortState(t.COLUMN.index);if(o)if(t.GETTER)r=o[t.GETTER],void 0===r&&(r=null);else for(var i in t)e=t[i],o[i]="function"==typeof e?e():e;return r},window.fin.Hypergrid.hypersorter=o},{"./mix-ins/behavior":2,"./mix-ins/column":3,"./mix-ins/dataModel":4,"./mix-ins/defaults":5,"./mix-ins/grid":6}],2:[function(t,r,e){"use strict";function o(t,r){var e=!1;return t.forEach(function(t){for(var o,i=0;i<r.length;){if(o=r[i].index+1,o===t){r[i].unSort(),e=!0;break}i++}}),e}r.exports={get sorter(){return this.dataModel.sorter},set sorter(t){this.dataModel.sorter=t},toggleSort:function(t,r){var e=this.getActiveColumn(t);e&&e.toggleSort(r)},sortChanged:function(t){o(this.sorter.sorts,t||this.getHiddenColumns())&&this.reindex()}}},{}],3:[function(t,r,e){"use strict";r.exports={toggleSort:function(t){this.dataModel.toggleSort(this,t)},unSort:function(t){this.dataModel.unSortColumn(this,t)}}},{}],4:[function(t,r,e){"use strict";var o="▲",i="▼";r.exports={get sorter(){return this.getController("sorter")},set sorter(t){this.setController("sorter",t)},toggleSort:function(t,r){this.incrementSortState(t,r),this.serializeSortState(),this.reindex()},unSortColumn:function(t,r){var e=this.getColumnSortState(t.index);e&&(this.sorter.sorts.splice(e.rank,1),r||this.reindex()),this.serializeSortState()},getColumnSortState:function(t){var r,e=this.sorter.sorts.find(function(e,o){return r=o,e.columnIndex===t});return e&&{sort:e,rank:r}},incrementSortState:function(t,r){var e=this.sorter.sorts,o=t.index,i=this.schema[o],n=this.getColumnSortState(o);n?n.sort.direction>0?n.sort.direction=-1:this.unSortColumn(t,!0):(r.indexOf("CTRL")<0&&(e.length=0),e.unshift({columnIndex:o,direction:1,type:i.type})),e.length=Math.min(e.length,this.grid.properties.maxSortColumns)},serializeSortState:function(){this.grid.properties.sorts=this.sorter.sorts},getSortImageForColumn:function(t){var r,e,n=this.sorter.sorts,s=this.getColumnSortState(t);if(s){var u=s.sort.direction>0?o:i;r=u+" ",n.length>1&&(e=n.length-s.rank,r=e+r)}return r}}},{}],5:[function(t,r,e){"use strict";e.maxSortColumns=3},{}],6:[function(t,r,e){"use strict";r.exports={get sorter(){return this.behavior.sorter},set sorter(t){this.behavior.sorter=t},toggleSort:function(t){if(this.abortEditing()){var r=this.behavior,e=this,o=t.detail.column,i=t.detail.keys;r.toggleSort(o,i),setTimeout(function(){e.synchronizeScrollingBoundaries(),r.autosizeAllColumns(),e.repaint()},10)}}}},{}]},{},[1]);