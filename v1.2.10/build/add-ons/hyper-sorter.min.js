!function t(e,o,n){function r(s,u){if(!o[s]){if(!e[s]){var l="function"==typeof require&&require;if(!u&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=o[s]={exports:{}};e[s][0].call(a.exports,function(t){var o=e[s][1][t];return r(o?o:t)},a,a.exports,t,e,o,n)}return o[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,o){"use strict";function n(e,o){function n(t,e,n){var r=o[t];return r&&r.prototype||Object.getPrototypeOf(e)}this.grid=e,o=o||{},n("Hypergrid",e).mixIn(t("./mix-ins/grid")),n("Behavior",e.behavior).mixIn(t("./mix-ins/behavior")),n("Column",e.behavior.allColumns.length&&e.behavior.allColumns[0]).mixIn(t("./mix-ins/column")),n("DataModel",e.behavior.dataModel).mixIn(t("./mix-ins/dataModel")),this.grid.addEventListener("fin-column-sort",function(t,o){e.toggleSort(t,o)})}n.prototype={constructor:n,$$CLASS_NAME:"hypersorter",state:{sorts:[]},properties:function(t){var e,o,n,r=this.grid.behavior.dataModel;if(n=t&&t.column?r.getColumnSortState(t.column.index):this.state,t&&n)if(t.getPropName)e=n[t.getPropName],void 0===e&&(e=null);else for(var i in t)o=t[i],void 0===o?delete n[i]:"function"==typeof o?n[i]=o():n[i]=o;return e}},window.fin.Hypergrid.Hypersorter=n},{"./mix-ins/behavior":2,"./mix-ins/column":3,"./mix-ins/dataModel":4,"./mix-ins/grid":5}],2:[function(t,e,o){"use strict";function n(t,e){var o=!1;return t.forEach(function(t){for(var n,r=0;r<e.length;){if(n=e[r].index+1,n===t){e[r].unSort(),o=!0;break}r++}}),o}e.exports={toggleSort:function(t,e){var o=this.getActiveColumn(t);o&&o.toggleSort(e)},sortChanged:function(t){var e=n(this.getSortedColumnIndexes(),t||this.getHiddenColumns());e&&this.reindex()}}},{}],3:[function(t,e,o){"use strict";e.exports={toggleSort:function(t){this.dataModel.toggleSort(this,t)},unSort:function(t){this.dataModel.unSortColumn(this,t)}}},{}],4:[function(t,e,o){"use strict";var n="▲",r="▼";e.exports={toggleSort:function(t,e){this.incrementSortState(t,e),this.serializeSortState(),this.reindex()},unSortColumn:function(t,e){var o=this.getSortedColumnIndexes(),n=this.getColumnSortState(t.index),r=n.sortPosition;r>-1&&(o.splice(r,1),e||(this.sorter.prop("columnSorts",o),this.reindex())),this.serializeSortState()},getColumnSortState:function(t){var e=this.getSortedColumnIndexes(),o=-1,n=e.find(function(e,n){return o=n,e.columnIndex===t});return{sortSpec:n,sortPosition:o}},incrementSortState:function(t,e){var o=this.getSortedColumnIndexes(),n=t.index,r=this.schema[n],i=this.getColumnSortState(n).sortSpec;i?i.direction>0?i.direction=-1:this.unSortColumn(t,!0):(e.indexOf("CTRL")<0&&(o.length=0),o.unshift({columnIndex:n,direction:1,type:r.type})),o.length>3&&(o.length=3)},serializeSortState:function(){this.grid.properties.sorts=this.getSortedColumnIndexes()},getSortedColumnIndexes:function(){return this.sorter.prop("sorts")||[]},getSortImageForColumn:function(t){var e,o,i=this.getSortedColumnIndexes(),s=this.getColumnSortState(t),u=s.sortSpec,l=s.sortPosition;if(u){var a=u.direction>0?n:r;e=a+" ",i.length>1&&(o=i.length-l,e=o+e)}return e}}},{}],5:[function(t,e,o){"use strict";e.exports={toggleSort:function(t){if(this.abortEditing()){var e=this.behavior,o=this,n=t.detail.column,r=t.detail.keys;e.toggleSort(n,r),setTimeout(function(){o.synchronizeScrollingBoundaries(),e.autosizeAllColumns(),o.repaint()},10)}}}},{}]},{},[1]);